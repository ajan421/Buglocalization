Bug Report: Weaving Chain Failure with Multiple Type Mungers

Title: Complete weaving failure cascading through BcelClassWeaver, World, and TypeMunger chain

Description:
Critical bug affecting the entire weaving pipeline. When processing aspects with multiple
inter-type declarations and advice, the weaver fails with a chain of exceptions involving
the core weaving infrastructure. This affects BcelClassWeaver, World, BcelWorld, TypeMunger,
Shadow, and LazyMethodGen components.

The failure starts in the type munging phase and cascades through the entire weaving process,
affecting all classes that depend on these core components.

Stack Trace:
java.lang.IllegalStateException: Weaving state inconsistent
    at org.aspectj.weaver.bcel.BcelClassWeaver.weaveInterTypeDeclarations(BcelClassWeaver.java:789)
    at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:456)
    at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1234)
    at org.aspectj.weaver.bcel.BcelWorld.resolve(BcelWorld.java:567)
    at org.aspectj.weaver.World.resolve(World.java:456)
    at org.aspectj.weaver.bcel.BcelTypeMunger.mungeNewMethod(BcelTypeMunger.java:678)
    at org.aspectj.weaver.bcel.LazyMethodGen.generate(LazyMethodGen.java:345)
    at org.aspectj.weaver.bcel.BcelShadow.matchesAt(BcelShadow.java:567)
    at org.aspectj.weaver.Shadow.match(Shadow.java:345)
    at org.aspectj.weaver.patterns.SignaturePattern.matches(SignaturePattern.java:178)
    at org.aspectj.weaver.ResolvedType.getMethods(ResolvedType.java:789)
    at org.aspectj.weaver.ReferenceType.findDerivativeType(ReferenceType.java:1122)

Error Details:
The bug manifests when:
1. Multiple aspects define inter-type declarations on the same target class
2. Target class has complex inheritance hierarchy
3. Generic types are involved
4. Method shadowing occurs across the hierarchy

This causes inconsistent state in:
- BcelClassWeaver: Cannot determine correct munger order
- World/BcelWorld: Type resolution cache becomes corrupted
- TypeMunger: Fails to apply ITDs in correct order
- Shadow/BcelShadow: Cannot match join points correctly
- LazyMethodGen: Generates invalid bytecode

Expected Behavior:
The weaver should coordinate all mungers, maintain consistent state, and apply
transformations in the correct order regardless of hierarchy complexity.

Actual Behavior:
Weaving fails completely, affecting all dependent classes and causing cascading
failures throughout the weaving pipeline.

Environment:
- AspectJ 1.9.7
- Java 11
- Multi-module project with 50+ aspects
- Target codebase with deep inheritance hierarchies (5+ levels)

Impact:
HIGH - Affects core weaving infrastructure, impacts all aspects in the project.
All classes that depend on or extend the affected components will also fail.

Related Components:
- BcelClassWeaver
- BcelWeaver  
- World
- BcelWorld
- TypeMunger
- BcelTypeMunger
- Shadow
- BcelShadow
- LazyMethodGen
- SignaturePattern
- ResolvedType
- ReferenceType







